module.exports=__NEXT_REGISTER_PAGE("/blog/understanding-hash-based-motion-estimation",function(){var e=webpackJsonp([6],{20:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(30);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return r(n).default}});function r(e){return e&&e.__esModule?e:{default:e}}},21:function(e,t,a){e.exports=a(36)},30:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.styles=void 0;var n=a(2);var r=E(n);var l=a(10);var o=E(l);var i=a(3);var s=E(i);var c=a(0);var d=E(c);var u=a(1);var p=E(u);var h=a(11);var f=E(h);var m=a(9);var v=E(m);var g=a(15);function E(e){return e&&e.__esModule?e:{default:e}}var y=t.styles=function e(t){return{root:{display:"block",margin:0},display4:t.typography.display4,display3:t.typography.display3,display2:t.typography.display2,display1:t.typography.display1,headline:t.typography.headline,title:t.typography.title,subheading:t.typography.subheading,body2:t.typography.body2,body1:t.typography.body1,caption:t.typography.caption,button:t.typography.button,alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:2*t.spacing.unit},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorTextSecondary:{color:t.palette.text.secondary},colorError:{color:t.palette.error.main}}};function b(e){var t;var a=e.align,n=e.classes,l=e.className,i=e.component,c=e.color,u=e.gutterBottom,p=e.headlineMapping,h=e.noWrap,m=e.paragraph,v=e.variant,E=(0,s.default)(e,["align","classes","className","component","color","gutterBottom","headlineMapping","noWrap","paragraph","variant"]);var y=(0,f.default)(n.root,n[v],(t={},(0,o.default)(t,n["color"+(0,g.capitalize)(c)],"default"!==c),(0,o.default)(t,n.noWrap,h),(0,o.default)(t,n.gutterBottom,u),(0,o.default)(t,n.paragraph,m),(0,o.default)(t,n["align"+(0,g.capitalize)(a)],"inherit"!==a),t),l);var b=i||(m?"p":p[v])||"span";return d.default.createElement(b,(0,r.default)({className:y},E))}b.propTypes={};b.defaultProps={align:"inherit",color:"default",gutterBottom:false,headlineMapping:{display4:"h1",display3:"h1",display2:"h1",display1:"h1",headline:"h1",title:"h2",subheading:"h3",body2:"aside",body1:"p"},noWrap:false,paragraph:false,variant:"body1"};t.default=(0,v.default)(y,{name:"MuiTypography"})(b)},35:function(e,t,a){"use strict";var n=a(12);var r=a.n(n);var l=a(0);var o=a.n(l);var i=a(21);var s=a.n(i);var c=a(37);var d=a.n(c);var u=s()(new(a(21).SameLoopPromise)(function(e,t){var n=29;try{var r=a(n);return e(r)}catch(e){}a.e(0).then(function(n){try{var r=a(29);r.__webpackChunkName="react_syntax_highlighter_5e0c44cc80beffdff473f2e6ef5cb15c";e(r)}catch(e){t(e)}}.bind(null,a)).catch(a.oe)}),{loading:function e(){return o.a.createElement("div",null)}});var p={padding:8,fontSize:"100%",borderRadius:5,backgroundColor:"#eeeeee"};t["a"]=function(e){var t=e.language,a=e.children;return o.a.createElement("div",{className:"jsx-124958280 jsx-124958280 code"},o.a.createElement(u,{language:t,style:d.a,customStyle:p},a.trim()),o.a.createElement(r.a,{styleId:"124958280",css:".code.jsx-124958280{margin:30px 0;}"}))}},36:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SameLoopPromise=void 0;var n=a(58);var r=j(n);var l=a(17);var o=j(l);var i=a(6);var s=j(i);var c=a(4);var d=j(c);var u=a(5);var p=j(u);var h=a(7);var f=j(h);var m=a(8);var v=j(m);var g=a(40);var E=j(g);t.default=k;t.registerChunk=_;t.flushChunks=C;var y=a(0);var b=j(y);var x=a(27);function j(e){return e&&e.__esModule?e:{default:e}}var w=new E.default;function k(e,t){var a=void 0;var n=void 0;if(e instanceof L){a=e;n=t||{}}else{if(!e.modules||!e.render){var r="`next/dynamic` options should contain `modules` and `render` fields";throw new Error(r)}if(t){var l="Add additional `next/dynamic` options to the first argument containing the `modules` and `render` fields";throw new Error(l)}n=e}return function(e){(0,v.default)(t,e);function t(){var e;(0,d.default)(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];var o=(0,f.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(r)));o.LoadingComponent=n.loading?n.loading:function(){return b.default.createElement("p",null,"loading...")};o.ssr=false!==n.ssr||n.ssr;o.state={AsyncComponent:null,asyncElement:null};o.isServer="undefined"===typeof window;o.loadBundleAgain=null;o.loadingBundle=false;o.ssr&&o.load();return o}(0,p.default)(t,[{key:"load",value:function e(){a?this.loadComponent():this.loadBundle(this.props)}},{key:"loadComponent",value:function e(){var n=this;a.then(function(e){var a=e.default||e;var r=(0,x.getDisplayName)(a);r&&(t.displayName="DynamicComponent for "+r);if(n.mounted)n.setState({AsyncComponent:a});else{n.isServer&&_(e.__webpackChunkName);n.state.AsyncComponent=a}})}},{key:"loadBundle",value:function e(a){var r=this;this.loadBundleAgain=null;this.loadingBundle=true;var l=n.modules(a);var i=(0,o.default)(l);var s=i.length;var c={};var d=function e(){if(r.loadBundleAgain){r.loadBundle(r.loadBundleAgain);return}r.loadingBundle=false;t.displayName="DynamicBundle";var l=n.render(a,c);r.mounted?r.setState({asyncElement:l}):r.state.asyncElement=l};var u=function e(t){var a=l[t];a.then(function(e){var a=e.default||e;r.isServer&&_(e.__webpackChunkName);c[t]=a;s--;0===s&&d()})};i.forEach(u)}},{key:"componentDidMount",value:function e(){this.mounted=true;this.ssr||this.load()}},{key:"componentWillReceiveProps",value:function e(t){if(a)return;this.setState({asyncElement:null});if(this.loadingBundle){this.loadBundleAgain=t;return}this.loadBundle(t)}},{key:"render",value:function e(){var t=this.state,a=t.AsyncComponent,n=t.asyncElement;var r=this.LoadingComponent;if(n)return n;if(a)return b.default.createElement(a,this.props);return b.default.createElement(r,this.props)}}]);return t}(b.default.Component)}function _(e){w.add(e)}function C(){var e=(0,r.default)(w);w.clear();return e}var L=t.SameLoopPromise=function(){(0,p.default)(e,null,[{key:"resolve",value:function t(a){var n=new e(function(e){return e(a)});return n}}]);function e(t){(0,d.default)(this,e);this.onResultCallbacks=[];this.onErrorCallbacks=[];this.cb=t}(0,p.default)(e,[{key:"setResult",value:function e(t){this.gotResult=true;this.result=t;this.onResultCallbacks.forEach(function(e){return e(t)});this.onResultCallbacks=[]}},{key:"setError",value:function e(t){this.gotError=true;this.error=t;this.onErrorCallbacks.forEach(function(e){return e(t)});this.onErrorCallbacks=[]}},{key:"then",value:function t(a,n){var r=this;this.runIfNeeded();var l=new e;var o=function e(){n?l.setResult(n(r.error)):l.setError(r.error)};var i=function e(){l.setResult(a(r.result))};if(this.gotResult){i();return l}if(this.gotError){o();return l}this.onResultCallbacks.push(i);this.onErrorCallbacks.push(o);return l}},{key:"catch",value:function t(a){var n=this;this.runIfNeeded();var r=new e;var l=function e(){r.setResult(a(n.error))};var o=function e(){r.setResult(n.result)};if(this.gotResult){o();return r}if(this.gotError){l();return r}this.onErrorCallbacks.push(l);this.onResultCallbacks.push(o);return r}},{key:"runIfNeeded",value:function e(){var t=this;if(!this.cb)return;if(this.ran)return;this.ran=true;this.cb(function(e){return t.setResult(e)},function(e){return t.setError(e)})}}]);return e}()},37:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default={hljs:{display:"block",background:"white",padding:"0.5em",color:"#333333",overflowX:"auto"},"hljs-comment":{color:"#969896"},"hljs-meta":{color:"#969896"},"hljs-string":{color:"#df5000"},"hljs-variable":{color:"#df5000"},"hljs-template-variable":{color:"#df5000"},"hljs-strong":{color:"#df5000"},"hljs-emphasis":{color:"#df5000"},"hljs-quote":{color:"#df5000"},"hljs-keyword":{color:"#a71d5d"},"hljs-selector-tag":{color:"#a71d5d"},"hljs-type":{color:"#a71d5d"},"hljs-literal":{color:"#0086b3"},"hljs-symbol":{color:"#0086b3"},"hljs-bullet":{color:"#0086b3"},"hljs-attribute":{color:"#0086b3"},"hljs-section":{color:"#63a35c"},"hljs-name":{color:"#63a35c"},"hljs-tag":{color:"#333333"},"hljs-title":{color:"#795da3"},"hljs-attr":{color:"#795da3"},"hljs-selector-id":{color:"#795da3"},"hljs-selector-class":{color:"#795da3"},"hljs-selector-attr":{color:"#795da3"},"hljs-selector-pseudo":{color:"#795da3"},"hljs-addition":{color:"#55a532",backgroundColor:"#eaffea"},"hljs-deletion":{color:"#bd2c00",backgroundColor:"#ffecec"},"hljs-link":{textDecoration:"underline"}}},472:function(e,t,a){e.exports=a(473)},473:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=a(12);var r=a.n(n);var l=a(0);var o=a.n(l);var i=a(32);var s=a.n(i);var c=a(33);var d=a(81);var u=a(35);var p=function e(t){var a=t.noteStrToRender;return o.a.createElement("div",{className:"jsx-2588419384 jsx-2588419384"},o.a.createElement("div",{className:"jsx-2588419384 jsx-2588419384 widgets_div"},o.a.createElement("div",{className:"jsx-2588419384 jsx-2588419384 icon_div"},"Note: "),o.a.createElement("div",{className:"jsx-2588419384 jsx-2588419384 text_div"},a)),o.a.createElement(r.a,{styleId:"2588419384",css:"div.jsx-2588419384{background-color:#e1f5fe;padding:5px 5px 5px 5px;margin:1px 0;color:#01579b;border-radius:5px;}.widgets_div.jsx-2588419384{border-bottom:thin #edf1f2 solid;padding:0.5px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.widgets_div.jsx-2588419384 .icon_div.jsx-2588419384{display:inline-block;font-size:15px;font-weight:500;}.text_div.jsx-2588419384{display:inline-block;margin:0.5px 0 0 0;padding:5px 5px 5px 0px;}"}))};var h=p;var f=o.a.createElement("div",{className:"jsx-138357423 jsx-138357423"},o.a.createElement("p",{className:"jsx-138357423 jsx-138357423 no_marginp"},"In HEVC, ",o.a.createElement("ins",{className:"jsx-138357423 jsx-138357423"},"Level 1")," only handles 176x144 resolution at 15 fps, whereas ",o.a.createElement("ins",{className:"jsx-138357423 jsx-138357423"},"level 4.1")," would be capable of 1920x1080 HDTV at 60 fps, and levels in version 1 are defined up to ",o.a.createElement("ins",{className:"jsx-138357423 jsx-138357423"},"level 6.1"),", which is capable of 8192x4320 video resolution at up to 120 fps. ",o.a.createElement("br",{className:"jsx-138357423 jsx-138357423"})),o.a.createElement(r.a,{styleId:"138357423",css:".no_marginp.jsx-138357423{margin:0.5px 0 0 0;font-weight:400;}"}));var m=t["default"]=Object(c["b"])({title:"Understanding Hash-based Motion Estimation",description:"An attempt to explain Hash-based Motion Estimation in VVC.",slug:"understanding-hash-based-motion-estimation",date:"July 4, 2019",GATrackID:"UA-111720492-5"})(s()(c["a"],function(e){return o.a.createElement("div",{className:"jsx-138357423 _markdown_"},o.a.createElement(e.p,null,"The post attempts to explain Hash-based Motion Estimation (HBME), which is a new technique in VVC compared with HEVC."),o.a.createElement(e.h2,null,"Motivation"),o.a.createElement(e.p,null,"During the development of HEVC SCC, it is believed that hash-based motion search can overcome some shortcomings of conventional motion estimation. (But... has it been proposed for SCC previously? Readers who are experienced with SCC may share insights in comment section.)"),o.a.createElement(e.ol,null,o.a.createElement(e.li,null,o.a.createElement(e.strong,null,"Find blocks that match better"),": search range of HBME can be full picture instead of a local region. For screen contents, conventional motion search may not work well due to the limited search range."),o.a.createElement(e.li,null,o.a.createElement(e.strong,null,"Expedite ME progress"),": in HBME, once a match will be found, the following checks can be early terminated.")),o.a.createElement(e.h2,null,"Procedure"),o.a.createElement(e.h2,null,"Details"),o.a.createElement(e.ol,null,o.a.createElement(e.li,null,"HBME is only allowed in NEXT profile [1] (Review of profile is available in last section)."),o.a.createElement(e.li,null,"HBME is performed for 4x4, 4x8, 8x4, 8x8, 16x16, 32x32 and 64x64 blocks."),o.a.createElement(e.li,null,"For inter coding, the HBME is performed before all coding modes.")),o.a.createElement(e.h2,null,"Review"),o.a.createElement(e.h3,null,"Profile, Level and Tier"),o.a.createElement(e.p,null,"In this section, the concepts of profile, level and tier in standards are reviewed."),o.a.createElement(e.p,null,"Some variation in capabilities of the standard is necessary to support a broad range of applications. This variation is handled by specifying profiles, levels and tiers."),o.a.createElement(e.p,null,"A ",o.a.createElement(e.strong,null,"profile")," defines the set of coding tools which may be used to encode a video sequence into a bitstream. The encoder is not required to use all coding tools available in the profile but may select the coding tools which it considers to be suitable [2]. A set of allowed profiles in VTM4.0 is shown below."),o.a.createElement(e.p,null,o.a.createElement(u["a"],{language:"cpp"},"\n// Profiles defined in VTM4.0\nnamespace Profile{\n  enum Name {\n    NONE = 0, MAIN = 1, MAIN10 = 2, MAINSTILLPICTURE = 3,\n    MAINREXT = 4, HIGHTHROUGHPUTREXT = 5, NEXT = 6 }; }\n")),o.a.createElement(e.p,null,"A ",o.a.createElement(e.strong,null,"level")," defines the degree of capability given a profile. Levels/degrees of capability are defined to establish the picture resolution, frame rate, bit rate, buffering capacity, and other aspects that are matters of degree rather than basic feature sets/coding tools."),o.a.createElement(e.p,null,o.a.createElement(h,{noteStrToRender:f})),o.a.createElement(e.p,null,"In each level, ",o.a.createElement(e.strong,null,"tiers")," are defined based on the bit rates they are capable of handling. Main Tier is mainly used to meet the demand of consumer usage, while High Tier is used to provide adequate quality for professional usage than what would be necessary for consumer applications. Levels and tiers defined in VTM4.0 are shown below."),o.a.createElement(e.p,null,o.a.createElement(u["a"],{language:"cpp"},"\n// Tiers and Levels defined in VTM4.0\nnamespace Level{\n  enum Tier { MAIN = 0, HIGH = 1, };\n  enum Name {\n    NONE     = 0,   LEVEL1   = 30,  LEVEL2   = 60,  LEVEL2_1 = 63,  LEVEL3   = 90,\n    LEVEL3_1 = 93,  LEVEL4   = 120, LEVEL4_1 = 123, LEVEL5   = 150, LEVEL5_1 = 153,\n    LEVEL5_2 = 156, LEVEL6   = 180, LEVEL6_1 = 183, LEVEL6_2 = 186, LEVEL8_5 = 255, }; }\n")),o.a.createElement(e.hr,null),o.a.createElement(e.p,null,"References"),o.a.createElement(e.p,null,o.a.createElement(d["a"],{num:"1",content:"J. Xu, J. Li, K. Zhang, L. Zhang, H. Liu, Y. Wang, P. Zhao, D. Hong, R. Xiong, 'Non-CE8: Hash-based Motion Search', Joint Video Exploration Team (JVET), docs. JVET-M0253, 2019."})),o.a.createElement(e.p,null,o.a.createElement(d["a"],{num:"2",content:"V. Sze, M. Budagavi, and G. J. Sullivan (Editors), High Efficiency Video Coding (HEVC) Algorithms and Architectures (Integrated Circuits and Systems). Dordrecht: Springer, 2014."})))}))},81:function(e,t,a){"use strict";var n=a(12);var r=a.n(n);var l=a(0);var o=a.n(l);var i=a(20);var s=a.n(i);t["a"]=function(e){var t=e.num,a=e.content;return o.a.createElement("div",{className:"jsx-2207567817 jsx-2207567817 indentRow"},o.a.createElement(s.a,{component:"p",gutterBottom:true},"[",t,"]  "),o.a.createElement(s.a,{component:"p",gutterBottom:true},a),o.a.createElement(r.a,{styleId:"2207567817",css:".indentRow.jsx-2207567817{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}"}))}}},[472]);return{page:e.default}});